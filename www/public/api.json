{"openapi":"3.0.1","info":{"title":"watchtower-api","version":"0.1","termsOfService":"","x-logo":{"url":""}},"servers":[{"url":"https://5l40l9u6y0.execute-api.us-east-1.amazonaws.com/api","description":"","variables":{"basePath":{"default":"api"}},"x-last-modified":1689393783997}],"paths":{"/network/ecpm":{"get":{"parameters":[{"deprecated":false,"example":"/api/network/ecpm?breakdowns=week,format","name":"breakdowns","description":"This is a comma separated list of breakdowns. Valid values include: \"week\", \"genre\", \"country\", \"format\", \"platform\", \"mobile_os_version\", \"serving_restriction\", \"gma_sdk_version\".","in":"query","required":true,"allowEmptyValue":false,"x-last-modified":1689393127964}],"responses":{"200":{"content":{"application/json":{"example":[{"platform":"ANDROID","format":"APP_OPEN","ecpm":6.746},{"platform":"ANDROID","format":"BANNER","ecpm":0.42,"your_ecpm":0.173},{"platform":"ANDROID","format":"INTERSTITIAL","ecpm":2.137,"your_ecpm":1.6},{"platform":"ANDROID","format":"NATIVE","ecpm":1.271},{"platform":"ANDROID","format":"REWARDED","ecpm":4.69,"your_ecpm":3.246},{"platform":"IOS","format":"BANNER","ecpm":0.531,"your_ecpm":0.512},{"platform":"IOS","format":"INTERSTITIAL","ecpm":3.462,"your_ecpm":3.462},{"platform":"IOS","format":"REWARDED","ecpm":9,"your_ecpm":9}]}},"description":"200 response"}},"summary":"/network/ecpm","description":"Generate a report summarizing the network eCPM and comparing to your eCPM across the specified breakdowns."}},"/account":{"get":{"responses":{"200":{"content":{"application/json":{"example":{"email":"...@gmail.com","picture_url":"...","first_name":"...","last_name":"...","status":"FINISHED_BACKFILL"}}},"description":"200 response","headers":{},"links":{}}},"summary":"/account","description":"The account status can be one of: STARTED_BACKFILL, FINISHED_BACKFILL, or ERROR. When the user first creates an account, they start in the STARTED_BACKFILL state until we finish importing their data. Then, it transitions into FINISHED_BACKFILL. If at any point, we are unable to load their data from AdMob, it transitions into ERROR and stays their until the issue is resolved."},"delete":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Empty"}}},"description":"200 response"}},"summary":"/account","description":"Delete the current account. This operation cannot be undone."}},"/account/ad_units":{"get":{"responses":{"200":{"content":{"application/json":{"encoding":"","example":[{"admob_ad_unit_id":"ca-app-pub-8088386811609279/1425883881","admob_app_id":"ca-app-pub-8088386811609279~2760777166","display_name":"Interstitial","format":"INTERSTITIAL","ad_types":["RICH_MEDIA","VIDEO"]},{"admob_ad_unit_id":"ca-app-pub-8088386811609279/4999439992","admob_app_id":"ca-app-pub-8088386811609279~2760777166","display_name":"Rewarded","format":"REWARDED","ad_types":["RICH_MEDIA","VIDEO"]}],"schema":""}},"description":"200 response","headers":{},"links":{}}},"summary":"/account/ad_units","description":"Retrieve all the ad units associated with the current account."}},"/realtime/query":{"get":{"parameters":[{"deprecated":false,"name":"start","description":"Start date in YYYY-MM-DD format.","in":"query","required":false,"allowEmptyValue":false,"x-last-modified":1689392166748},{"deprecated":false,"name":"end","description":"The end date in YYYY-MM-DD format.","in":"query","required":false,"allowEmptyValue":false,"x-last-modified":1689392206305},{"deprecated":false,"name":"breakdowns","description":"Comma separated list of breakdowns. Valid values include: \"DATE\", \"AD_UNIT\", \"APP\", \"COUNTRY\", \"FORMAT\", \"PLATFORM\", \"MOBILE_OS_VERSION\", \"GMA_SDK_VERSION\", \"APP_VERSION_NAME\".","in":"query","required":false,"allowEmptyValue":false,"x-last-modified":1689392272053}],"responses":{"200":{"content":{"application/json":{"example":[{"dimensionValues":{"DATE":{"value":"20230616"}},"metricValues":{"ESTIMATED_EARNINGS":{"microsValue":"9776796"},"AD_REQUESTS":{"integerValue":"17654"},"MATCHED_REQUESTS":{"integerValue":"16694"},"CLICKS":{"integerValue":"63"},"IMPRESSIONS":{"integerValue":"6604"}}},{"dimensionValues":{"DATE":{"value":"20230617"}},"metricValues":{"ESTIMATED_EARNINGS":{"microsValue":"8934984"},"AD_REQUESTS":{"integerValue":"16040"},"MATCHED_REQUESTS":{"integerValue":"15051"},"CLICKS":{"integerValue":"118"},"IMPRESSIONS":{"integerValue":"6092"}}}],"schema":"","encoding":""}},"description":"This endpoint passes the data through directly from the AdMob API.","headers":{},"links":{}}},"summary":"/realtime/query","description":"Return realtime tabular data from the AdMob API."}},"/realtime/by_app":{"get":{"parameters":[{"deprecated":false,"name":"period","description":"Valid values: 1-day, 7-day, or 28-day\n","in":"query","required":true,"allowEmptyValue":false,"x-last-modified":1689392974231},{"deprecated":false,"name":"previous","description":"If set to true (defaults to false), return the results for the previous period.","in":"query","required":false,"allowEmptyValue":false,"x-last-modified":1689393006224}],"responses":{"200":{"content":{"application/json":{"schema":{"description":"","type":"","externalDocs":{"description":"","url":""},"example":""},"example":[{"dimensionValues":{"APP":{"value":"ca-app-pub-9622382276517695~3926369157","displayLabel":"Guess the Flag"},"PLATFORM":{"value":"Android"}},"metricValues":{"ESTIMATED_EARNINGS":{"microsValue":"26195467"},"AD_REQUESTS":{"integerValue":"134739"},"MATCHED_REQUESTS":{"integerValue":"111398"},"CLICKS":{"integerValue":"410"},"IMPRESSIONS":{"integerValue":"42587"}}},{"dimensionValues":{"APP":{"value":"ca-app-pub-9622382276517695~4117940840","displayLabel":"Guess the Flag - Trivia"},"PLATFORM":{"value":"iOS"}},"metricValues":{"ESTIMATED_EARNINGS":{"microsValue":"37336498"},"AD_REQUESTS":{"integerValue":"80632"},"MATCHED_REQUESTS":{"integerValue":"65980"},"CLICKS":{"integerValue":"276"},"IMPRESSIONS":{"integerValue":"23743"}}}]}},"description":"200 response"}},"summary":"/realtime/by_app","description":"Return realtime summary data from the AdMob API."}},"/account/apps":{"get":{"responses":{"200":{"content":{"application/json":{"encoding":"","example":[{"admob_publisher_id":"pub-8088386811609279","admob_app_id":"ca-app-pub-8088386811609279~2760777166","platform":"ANDROID","app_store_id":"dev.kevz.ao3_disco","display_name":"AO3 Disco"},{"admob_publisher_id":"pub-8088386811609279","admob_app_id":"ca-app-pub-8088386811609279~8658661592","platform":"IOS","app_store_id":"6447444492","display_name":"AO3 Disco"}],"schema":""}},"description":"200 response","headers":{},"links":{}}},"description":"Retrieve all the apps associated with the current account.","summary":"/account/apps"}},"/account/api_keys":{"get":{"responses":{"200":{"content":{"text/plain":{"example":"d604eeae-42ae-4e99-9cec-bf70229e91b8"}},"description":"200 response"}},"operationId":"","summary":"/account/api_keys","description":"Generate an API key for the account."},"delete":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Empty"}}},"description":"200 response"}},"operationId":"","summary":"/account/api_keys","description":"Invalidate all existing API keys."}},"/account/message":{"post":{"requestBody":{"description":"The email field contains the address that the sender would like a response at.","content":{"application/json":{"example":{"email":"me@kevz.dev","message":"Hi!"}}},"required":false},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Empty"}}},"description":"200 response"}},"summary":"/account/message","description":"Send a message to the maintainers of AdMob Watchtower."}},"/hello":{"get":{"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Empty"}}},"description":"200 response"}},"operationId":"GET /hello","description":"Returns a hello world message. This is primarily used to warm up the Lambda function to reduce cold-start time."}}},"components":{"schemas":{"Empty":{"title":"Empty Schema","type":"object"}},"securitySchemes":{"API Key":{"scheme":"bearer","bearerFormat":"UUID4","type":"http","description":"All endpoints expect the API key to be included in the Authorization header. The API key can be generated in the settings page of your account.\n\nExample: \n> Authorization: Bearer <token>","x-last-modified":1689384486503}},"headers":{},"responses":{},"parameters":{}},"security":[{"JWTAuth":[]},{"API Key":[]}],"tags":[]}